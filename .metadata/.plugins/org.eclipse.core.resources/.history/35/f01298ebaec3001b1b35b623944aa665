package com.db.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;

import com.db.recruit.RecruitDto;
import com.db.recruit.RecruitService;

@Controller
@RequestMapping("/recruit")
public class RecruitController {
	@Autowired
	private RecruitService service;
	
	public RecruitController(RecruitService service) {
		this.service = service;
	}
	@RequestMapping("/{category}")
	public String getListByCategory(@PathVariable String category, Model model) {
		if(category.equals("All")) {
			List<RecruitDto> dto = service.selectAllRecruit();
			model.addAttribute("dto", dto);
			return "recruit/categoryList";
		}else {
			List<RecruitDto> dto = service.selectRecruitByCategory(category);
			model.addAttribute("dto", dto);
			return recruit/categoryList";
		}
	}
}
